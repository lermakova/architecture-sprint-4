#### Архитектурное решение по логированию
#### Предлагается добавить в систему следующие логи:
Логи уровня INFO:
- Изменение статуса заказа - время, идентификатор покупателя, номер заказа.
- Расчет стоимости 3D модели - время, идентификатор покупателя, количество полигонов, время обработки модели, стоимость
- Регистрация вызовов API - время, наименование запроса, код ответа, время обработки запроса
- Регистрация обмена сообщениями в очереди - время, идентификатор сообщения, содержание сообщения
Логи уровня WARNING:
- «dead-lettered" сообщения в очереди - время, идентификатор сообщения, содержание сообщения
Логи уровня ERROR:
- Ошибки, возникающие в API-сервисах - время, сервис, код ошибки, сообщение ошибки
#### Мотивация
Внедрение логирования облегчит получение информации о внутренних процессах системы.  Будет возможно сформировать представление о состоянии приложения, проанализировать данные о работе системы, а также логи являются одним из источников информации для мониторинга. Логирование может повлиять на следующие метрики: 
1. Количество и частота ошибок. Логирование помогает отслеживать и анализировать ошибки в работе системы.
2. Производительность. Внедрение логирования может повысить производительность системы за счёт более эффективного использования ресурсов.
3. Время отклика системы. Логирование помогает отслеживать время, необходимое для обработки запросов, что поможет оптимизировать производительность.
В первую очередь предлагается настраивать логирование и трейсинг для наиболее узких мест в системе. В настоящий момент такими местами являются компоненты, связанные с MES, а именно: API сервис MES и очередь сообщений, поэтому предлагается начать покрытие логами с этих сервисов.
#### Предлагаемое решение
Для внедрения логирования в систему предлагается использовать стек ELK. Для его реализации необходимо добавить такие компоненты, как Filebeat, ElasticSearch, Logstash и Kibana. Данное решение визуализировало на диаграмме:
https://drive.google.com/file/d/1qghedZBKyyIu0d7AmOut0QSoF4aVJHdW/view?usp=sharing
#### Политика безопасности в отношении логов:
Необходимо ограничить доступ к данным логов для всех ролей пользователей, за исключением пользователей с ролью «Поддержка». Предлагается вести учет доступа к логам, чтобы отслеживать, кто и когда получал доступ к данным, а также установить сроки хранения логов, после которых данные будут автоматически удаляться
Политика хранения в отношении логов:
Предлагается хранить системные логи не более 6 месяцев и ограничить размер одного файла лога до 10 Мб, индексация логов будет происходить в ElasticSearch
#### Мероприятия для превращения системы сбора логов в систему анализа логов
1. Внедрение систем анализа логов
2. Реализация уведомлений о подозрительных событиях и аномалиях
3. Автоматизация процессов реагирования на аномалии